{% extends "pages/base.html" %}
{% load i18n %}
{% block title %}{% trans "Upload Item" %}{% endblock %}
{% block content %}
<h4>{% trans "Upload Item" %}</h4>
<form method="post" enctype="multipart/form-data" class="border p-4 rounded bg-light">
    {% csrf_token %}

    <div class="mb-3">
        <label for="id_title" class="form-label">{% trans "Title" %}</label>
        {{ form.title }}
    </div>

    <div class="mb-3">
        <label for="id_description" class="form-label">{% trans "Description" %}</label>
        {{ form.description }}
    </div>

    <div class="mb-3">
        <label for="id_price" class="form-label">{% trans "Price" %}</label>
        {{ form.price }}
    </div>

    <div class="mb-3">
        <label class="form-label d-block">{% trans "Upload Images" %}</label>

        <label for="image-upload" class="btn btn-outline-secondary">
            {% trans "Choose Images" %}
        </label>
        <input type="file" id="image-upload" name="images" accept="image/*" multiple required
            class="d-none" onchange="showSelectedFiles(this)">
        
        <div id="file-list" class="mt-2 text-muted"></div>
    </div>


    <button type="submit" class="btn btn-primary mt-2">{% trans "Upload Item" %}</button>
</form>

<div class="mt-3">
    <a href="{% url 'home' %}" class="btn btn-outline-secondary">{% trans "Back to Home" %}</a>
</div>



<script>
function showSelectedFiles(input) {
    const fileList = document.getElementById('file-list');
    fileList.innerHTML = '';
    for (const file of input.files) {
        const p = document.createElement('div');
        p.textContent = file.name;
        fileList.appendChild(p);
    }
}
</script>


{% endblock %}
